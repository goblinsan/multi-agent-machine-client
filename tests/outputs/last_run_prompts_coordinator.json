{
  "generatedAt": "2025-10-07T14:27:57.599Z",
  "requests": [
    {
      "step": "1-context",
      "role": "Hydrate project context",
      "toPersona": "context",
      "corrId": "048bb706-705c-48d7-ba68-17648238f945",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "project_slug": "proj",
        "project_name": "proj",
        "milestone": null,
        "milestone_name": "Milestone",
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "task_name": "task-1",
        "upload_dashboard": true
      }
    },
    {
      "step": "2-plan",
      "role": "Implementation planning (planner)",
      "toPersona": "implementation-planner",
      "corrId": "7828cb43-ff2c-481e-80cb-1215ff35acbd",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "project_slug": "proj",
        "project_name": "proj",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "milestone_name": "Milestone",
        "milestone_slug": "milestone",
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "task_name": "task-1",
        "base_branch": "main",
        "revision": 0,
        "plan_request": {
          "attempt": 1,
          "requires_approval": true,
          "revision": 0
        }
      }
    },
    {
      "step": "2-implementation",
      "role": "Lead implementation (engineer)",
      "toPersona": "lead-engineer",
      "corrId": "79d016b9-79bf-470c-8caa-bca81dc0b273",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "project_slug": "proj",
        "project_name": "proj",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "milestone_name": "Milestone",
        "milestone_slug": "milestone",
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "task_name": "task-1",
        "base_branch": "main",
        "revision": 0,
        "approved_plan": {
          "plan": [
            {
              "goal": "feature"
            }
          ]
        },
        "approved_plan_steps": [
          {
            "goal": "feature"
          }
        ],
        "plan_text": "",
        "plan_history": [
          {
            "attempt": 1,
            "content": "",
            "payload": {
              "plan": [
                {
                  "goal": "feature"
                }
              ]
            }
          }
        ]
      }
    },
    {
      "step": "3-qa",
      "role": "QA test run",
      "toPersona": "tester-qa",
      "corrId": "15c70c86-437f-4d86-ae51-1c1507fbcf02",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "commands": []
      }
    },
    {
      "step": "qa-created-tasks",
      "role": "QA follow-up - created tasks (after summarizer/create)",
      "toPersona": "implementation-planner",
      "corrId": "5570ba4d-0289-4afe-9f79-62cac45897e3",
      "payload": {
        "created_tasks": [
          {
            "title": "QA failure task",
            "externalId": "ext-1",
            "createdId": "t-1",
            "description": "Condensed description about missing tests"
          }
        ],
        "stage": "qa",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "parent_task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "qa_result": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        }
      }
    },
    {
      "step": "3.5-evaluate-qa-plan",
      "role": "Workflow step",
      "toPersona": "plan-evaluator",
      "corrId": "c46e03a9-44bf-4a64-835c-5c71ce0ae72f",
      "payload": {
        "qa_feedback": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        },
        "plan": {
          "payload": {
            "plan": [
              {
                "goal": "fix tests",
                "key_files": [],
                "owners": [
                  "dev"
                ]
              }
            ]
          },
          "output": ""
        }
      }
    },
    {
      "step": "4-implementation-plan",
      "role": "Implementation planning for QA follow-ups",
      "toPersona": "implementation-planner",
      "corrId": "e58819f8-1be5-4637-aee8-6267dba5db66",
      "payload": {
        "qa_result": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        },
        "planner_result": {
          "payload": {
            "plan": [
              {
                "goal": "fix tests",
                "key_files": [],
                "owners": [
                  "dev"
                ]
              }
            ]
          },
          "output": ""
        },
        "created_tasks": [
          {
            "title": "QA failure task",
            "externalId": "ext-1",
            "createdId": "t-1",
            "description": "Condensed description about missing tests"
          }
        ],
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "project_id": "proj-1"
      }
    },
    {
      "step": "3-route",
      "role": "Workflow step",
      "toPersona": "project-manager",
      "corrId": "ca5e4157-f37c-44da-b24b-857c59991868",
      "payload": {
        "qa_result": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        },
        "project_id": "proj-1",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        }
      }
    }
  ]
}