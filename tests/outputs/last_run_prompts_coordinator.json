{
  "generatedAt": "2025-10-07T23:21:10.929Z",
  "requests": [
    {
      "step": "1-context",
      "role": "Hydrate project context",
      "toPersona": "context",
      "corrId": "293c6f2d-8bc0-4ac1-9137-6e4969886cdd",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "project_slug": "proj",
        "project_name": "proj",
        "milestone": null,
        "milestone_name": "Milestone",
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "task_name": "task-1",
        "upload_dashboard": true
      }
    },
    {
      "step": "2-plan",
      "role": "Implementation planning (planner)",
      "toPersona": "implementation-planner",
      "corrId": "f52220cc-c036-4bab-a724-52b168b4b73a",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "project_slug": "proj",
        "project_name": "proj",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "milestone_name": "Milestone",
        "milestone_slug": "milestone",
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "task_name": "task-1",
        "base_branch": "main",
        "revision": 0,
        "plan_request": {
          "attempt": 1,
          "requires_approval": true,
          "revision": 0
        }
      }
    },
    {
      "step": "2.5-evaluate-plan",
      "role": "Workflow step",
      "toPersona": "plan-evaluator",
      "corrId": "e4a2d238-c6fb-48ee-8abf-97e8ef2d71b2",
      "payload": {
        "qa_feedback": null,
        "plan": {
          "plan": [
            {
              "goal": "feature"
            }
          ]
        }
      }
    },
    {
      "step": "2-implementation",
      "role": "Lead implementation (engineer)",
      "toPersona": "lead-engineer",
      "corrId": "d78c722f-e088-463c-9c2b-4ea57fe3077e",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "project_slug": "proj",
        "project_name": "proj",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "milestone_name": "Milestone",
        "milestone_slug": "milestone",
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "task_name": "task-1",
        "base_branch": "main",
        "revision": 0,
        "approved_plan": {
          "plan": [
            {
              "goal": "feature"
            }
          ]
        },
        "approved_plan_steps": [
          {
            "goal": "feature"
          }
        ],
        "plan_text": "",
        "plan_history": [
          {
            "attempt": 1,
            "content": "",
            "payload": {
              "plan": [
                {
                  "goal": "feature"
                }
              ]
            }
          }
        ]
      }
    },
    {
      "step": "3-qa",
      "role": "QA test run",
      "toPersona": "tester-qa",
      "corrId": "e9f946ea-67e7-44c9-9ee3-b2f7d2469a9d",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "commands": []
      }
    },
    {
      "step": "qa-created-tasks",
      "role": "QA follow-up - created tasks (after summarizer/create)",
      "toPersona": "implementation-planner",
      "corrId": "7b6d33ee-0113-4520-af08-a55d4384d7dd",
      "payload": {
        "created_tasks": [
          {
            "title": "QA failure task",
            "externalId": "ext-1",
            "createdId": "t-1",
            "description": "Condensed description about missing tests"
          }
        ],
        "stage": "qa",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "parent_task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "qa_result": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        }
      }
    },
    {
      "step": "3.5-evaluate-qa-plan",
      "role": "Workflow step",
      "toPersona": "plan-evaluator",
      "corrId": "b73471f0-1457-458a-9dc0-9a0839b5b894",
      "payload": {
        "qa_feedback": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        },
        "plan": {
          "payload": {
            "plan": [
              {
                "goal": "fix tests",
                "key_files": [],
                "owners": [
                  "dev"
                ]
              }
            ]
          },
          "output": ""
        }
      }
    },
    {
      "step": "4-implementation-plan",
      "role": "Implementation planning for QA follow-ups",
      "toPersona": "implementation-planner",
      "corrId": "3fa46c19-f443-4c09-81cd-2cf09caa519c",
      "payload": {
        "qa_result": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        },
        "planner_result": {
          "payload": {
            "plan": [
              {
                "goal": "fix tests",
                "key_files": [],
                "owners": [
                  "dev"
                ]
              }
            ]
          },
          "output": ""
        },
        "created_tasks": [
          {
            "title": "QA failure task",
            "externalId": "ext-1",
            "createdId": "t-1",
            "description": "Condensed description about missing tests"
          }
        ],
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "project_id": "proj-1"
      }
    },
    {
      "step": "3-route",
      "role": "Workflow step",
      "toPersona": "project-manager",
      "corrId": "8a872222-a904-4838-8cb8-b4c80afa1206",
      "payload": {
        "qa_result": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        },
        "project_id": "proj-1",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        }
      }
    }
  ]
}