{
  "generatedAt": "2025-10-07T02:31:04.672Z",
  "requests": [
    {
      "step": "1-context",
      "role": "Hydrate project context",
      "toPersona": "context",
      "corrId": "59b8ae02-5d32-4b29-ad84-94f1ae11e4ce",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "project_slug": "proj",
        "project_name": "proj",
        "milestone": null,
        "milestone_name": "Milestone",
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "task_name": "task-1",
        "upload_dashboard": true
      }
    },
    {
      "step": "2-plan",
      "role": "Implementation planning (planner)",
      "toPersona": "implementation-planner",
      "corrId": "592951e3-bf27-4c38-ad88-934fc80710a1",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "project_slug": "proj",
        "project_name": "proj",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "milestone_name": "Milestone",
        "milestone_slug": "milestone",
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "task_name": "task-1",
        "base_branch": "main",
        "revision": 0,
        "plan_request": {
          "attempt": 1,
          "requires_approval": true,
          "revision": 0
        }
      }
    },
    {
      "step": "2-implementation",
      "role": "Lead implementation (engineer)",
      "toPersona": "lead-engineer",
      "corrId": "a33e9ba5-4622-4d0f-bfab-15715e50abc9",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "project_slug": "proj",
        "project_name": "proj",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "milestone_name": "Milestone",
        "milestone_slug": "milestone",
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "task_name": "task-1",
        "base_branch": "main",
        "revision": 0,
        "approved_plan": {
          "plan": [
            {
              "goal": "feature"
            }
          ]
        },
        "approved_plan_steps": [
          {
            "goal": "feature"
          }
        ],
        "plan_text": "",
        "plan_history": [
          {
            "attempt": 1,
            "content": "",
            "payload": {
              "plan": [
                {
                  "goal": "feature"
                }
              ]
            }
          }
        ]
      }
    },
    {
      "step": "3-qa",
      "role": "QA test run",
      "toPersona": "tester-qa",
      "corrId": "200b7e88-bae1-4696-816e-7d1c0fd61662",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "commands": []
      }
    },
    {
      "step": "qa-created-tasks",
      "role": "QA follow-up - created tasks (after summarizer/create)",
      "toPersona": "implementation-planner",
      "corrId": "e58da360-f157-487d-94a6-036817efa5cc",
      "payload": {
        "created_tasks": [
          {
            "title": "QA failure task",
            "externalId": "ext-1",
            "createdId": "t-1",
            "description": "Condensed description about missing tests"
          }
        ],
        "stage": "qa",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "parent_task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "qa_result": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        }
      }
    },
    {
      "step": "3.5-evaluate-qa-plan",
      "role": "Workflow step",
      "toPersona": "plan-evaluator",
      "corrId": "b04140ff-99f6-49a2-935e-7071785b578d",
      "payload": {
        "qa_feedback": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        },
        "plan": {
          "payload": {
            "plan": [
              {
                "goal": "fix tests",
                "key_files": [],
                "owners": [
                  "dev"
                ]
              }
            ]
          },
          "output": ""
        }
      }
    },
    {
      "step": "4-implementation-plan",
      "role": "Implementation planning for QA follow-ups",
      "toPersona": "implementation-planner",
      "corrId": "2f0f2355-8cef-41b9-94c5-fbab8447710c",
      "payload": {
        "qa_result": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        },
        "planner_result": {
          "payload": {
            "plan": [
              {
                "goal": "fix tests",
                "key_files": [],
                "owners": [
                  "dev"
                ]
              }
            ]
          },
          "output": ""
        },
        "created_tasks": [
          {
            "title": "QA failure task",
            "externalId": "ext-1",
            "createdId": "t-1",
            "description": "Condensed description about missing tests"
          }
        ],
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "project_id": "proj-1"
      }
    },
    {
      "step": "3-route",
      "role": "Workflow step",
      "toPersona": "project-manager",
      "corrId": "9406bd39-5b0b-40e8-b27a-49c77368d157",
      "payload": {
        "qa_result": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        },
        "project_id": "proj-1",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        }
      }
    }
  ]
}