{
  "generatedAt": "2025-10-07T12:29:40.961Z",
  "requests": [
    {
      "step": "1-context",
      "role": "Hydrate project context",
      "toPersona": "context",
      "corrId": "ef8e98c5-7271-4b79-bc9d-8bbd9d98ca83",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "project_slug": "proj",
        "project_name": "proj",
        "milestone": null,
        "milestone_name": "Milestone",
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "task_name": "task-1",
        "upload_dashboard": true
      }
    },
    {
      "step": "2-plan",
      "role": "Implementation planning (planner)",
      "toPersona": "implementation-planner",
      "corrId": "4c4ea4fa-c296-4b83-b396-5d3199eebf7a",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "project_slug": "proj",
        "project_name": "proj",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "milestone_name": "Milestone",
        "milestone_slug": "milestone",
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "task_name": "task-1",
        "base_branch": "main",
        "revision": 0,
        "plan_request": {
          "attempt": 1,
          "requires_approval": true,
          "revision": 0
        }
      }
    },
    {
      "step": "2-implementation",
      "role": "Lead implementation (engineer)",
      "toPersona": "lead-engineer",
      "corrId": "9ee887a8-63fd-4294-8908-fcae03b056c7",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "project_slug": "proj",
        "project_name": "proj",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "milestone_name": "Milestone",
        "milestone_slug": "milestone",
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "task_name": "task-1",
        "base_branch": "main",
        "revision": 0,
        "approved_plan": {
          "plan": [
            {
              "goal": "feature"
            }
          ]
        },
        "approved_plan_steps": [
          {
            "goal": "feature"
          }
        ],
        "plan_text": "",
        "plan_history": [
          {
            "attempt": 1,
            "content": "",
            "payload": {
              "plan": [
                {
                  "goal": "feature"
                }
              ]
            }
          }
        ]
      }
    },
    {
      "step": "3-qa",
      "role": "QA test run",
      "toPersona": "tester-qa",
      "corrId": "c90d3e5d-dff8-41ec-857c-516bae8c8330",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "commands": []
      }
    },
    {
      "step": "qa-created-tasks",
      "role": "QA follow-up - created tasks (after summarizer/create)",
      "toPersona": "implementation-planner",
      "corrId": "3a558a55-1142-49cc-86b9-6726d3e6d635",
      "payload": {
        "created_tasks": [
          {
            "title": "QA failure task",
            "externalId": "ext-1",
            "createdId": "t-1",
            "description": "Condensed description about missing tests"
          }
        ],
        "stage": "qa",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "parent_task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "qa_result": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        }
      }
    },
    {
      "step": "3.5-evaluate-qa-plan",
      "role": "Workflow step",
      "toPersona": "plan-evaluator",
      "corrId": "3104b89d-ef2f-4512-b413-203fe1cf36ac",
      "payload": {
        "qa_feedback": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        },
        "plan": {
          "payload": {
            "plan": [
              {
                "goal": "fix tests",
                "key_files": [],
                "owners": [
                  "dev"
                ]
              }
            ]
          },
          "output": ""
        }
      }
    },
    {
      "step": "4-implementation-plan",
      "role": "Implementation planning for QA follow-ups",
      "toPersona": "implementation-planner",
      "corrId": "1cf8ca8f-ddeb-49a2-9da4-10eece2c5157",
      "payload": {
        "qa_result": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        },
        "planner_result": {
          "payload": {
            "plan": [
              {
                "goal": "fix tests",
                "key_files": [],
                "owners": [
                  "dev"
                ]
              }
            ]
          },
          "output": ""
        },
        "created_tasks": [
          {
            "title": "QA failure task",
            "externalId": "ext-1",
            "createdId": "t-1",
            "description": "Condensed description about missing tests"
          }
        ],
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "project_id": "proj-1"
      }
    },
    {
      "step": "3-route",
      "role": "Workflow step",
      "toPersona": "project-manager",
      "corrId": "21e56053-ebd1-423f-ab60-02f3c587ede5",
      "payload": {
        "qa_result": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        },
        "project_id": "proj-1",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        }
      }
    }
  ]
}