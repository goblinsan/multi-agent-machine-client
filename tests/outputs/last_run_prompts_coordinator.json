{
  "generatedAt": "2025-10-07T14:56:53.700Z",
  "requests": [
    {
      "step": "1-context",
      "role": "Hydrate project context",
      "toPersona": "context",
      "corrId": "dfb8384b-5b17-47bf-af8d-118c4790cb0b",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "project_slug": "proj",
        "project_name": "proj",
        "milestone": null,
        "milestone_name": "Milestone",
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "task_name": "task-1",
        "upload_dashboard": true
      }
    },
    {
      "step": "2-plan",
      "role": "Implementation planning (planner)",
      "toPersona": "implementation-planner",
      "corrId": "b9f245a0-dca6-4d29-8e69-b238ac66c457",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "project_slug": "proj",
        "project_name": "proj",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "milestone_name": "Milestone",
        "milestone_slug": "milestone",
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "task_name": "task-1",
        "base_branch": "main",
        "revision": 0,
        "plan_request": {
          "attempt": 1,
          "requires_approval": true,
          "revision": 0
        }
      }
    },
    {
      "step": "2-implementation",
      "role": "Lead implementation (engineer)",
      "toPersona": "lead-engineer",
      "corrId": "d01331f7-ae9e-4749-a2d2-5b8771664de2",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "project_slug": "proj",
        "project_name": "proj",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "milestone_name": "Milestone",
        "milestone_slug": "milestone",
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "task_name": "task-1",
        "base_branch": "main",
        "revision": 0,
        "approved_plan": {
          "plan": [
            {
              "goal": "feature"
            }
          ]
        },
        "approved_plan_steps": [
          {
            "goal": "feature"
          }
        ],
        "plan_text": "",
        "plan_history": [
          {
            "attempt": 1,
            "content": "",
            "payload": {
              "plan": [
                {
                  "goal": "feature"
                }
              ]
            }
          }
        ]
      }
    },
    {
      "step": "3-qa",
      "role": "QA test run",
      "toPersona": "tester-qa",
      "corrId": "4af90453-21f8-475c-a4c7-30235602810d",
      "payload": {
        "repo": "https://example/repo.git",
        "branch": "feat/task-1",
        "project_id": "proj-1",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "commands": []
      }
    },
    {
      "step": "qa-created-tasks",
      "role": "QA follow-up - created tasks (after summarizer/create)",
      "toPersona": "implementation-planner",
      "corrId": "48e8f612-2bdc-4b45-afdf-8218cf0e1f37",
      "payload": {
        "created_tasks": [
          {
            "title": "QA failure task",
            "externalId": "ext-1",
            "createdId": "t-1",
            "description": "Condensed description about missing tests"
          }
        ],
        "stage": "qa",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "parent_task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "qa_result": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        }
      }
    },
    {
      "step": "3.5-evaluate-qa-plan",
      "role": "Workflow step",
      "toPersona": "plan-evaluator",
      "corrId": "2ad807ce-9f61-4a6a-bebb-c78d78ac6196",
      "payload": {
        "qa_feedback": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        },
        "plan": {
          "payload": {
            "plan": [
              {
                "goal": "fix tests",
                "key_files": [],
                "owners": [
                  "dev"
                ]
              }
            ]
          },
          "output": ""
        }
      }
    },
    {
      "step": "4-implementation-plan",
      "role": "Implementation planning for QA follow-ups",
      "toPersona": "implementation-planner",
      "corrId": "9ddc0aa0-afec-4170-9ac1-de28c2200d7b",
      "payload": {
        "qa_result": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        },
        "planner_result": {
          "payload": {
            "plan": [
              {
                "goal": "fix tests",
                "key_files": [],
                "owners": [
                  "dev"
                ]
              }
            ]
          },
          "output": ""
        },
        "created_tasks": [
          {
            "title": "QA failure task",
            "externalId": "ext-1",
            "createdId": "t-1",
            "description": "Condensed description about missing tests"
          }
        ],
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        },
        "project_id": "proj-1"
      }
    },
    {
      "step": "3-route",
      "role": "Workflow step",
      "toPersona": "project-manager",
      "corrId": "c26a73fc-8b44-4b65-8f47-1768e495eaf0",
      "payload": {
        "qa_result": {
          "status": "fail",
          "details": "no tests",
          "tasks": []
        },
        "project_id": "proj-1",
        "milestone": {
          "task": {
            "id": "task-1",
            "external_id": null,
            "name": "task-1",
            "slug": "task-1",
            "status": "open",
            "normalized_status": "open",
            "branch": null,
            "summary": null
          }
        },
        "task": {
          "id": "task-1",
          "external_id": null,
          "name": "task-1",
          "slug": "task-1",
          "status": "open",
          "normalized_status": "open",
          "branch": null,
          "summary": null
        }
      }
    }
  ]
}